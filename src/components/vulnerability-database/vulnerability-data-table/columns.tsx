'use client'

import { ColumnDef } from '@tanstack/react-table'
import { ArrowUpDown } from 'lucide-react'
import { Button } from '@/components/ui/button'

export type Vulnerability = {
    id: string
    cvss: number
    published: Date
    risk: number
    description: string
}

export const columns: ColumnDef<Vulnerability>[] = [
    {
        accessorKey: 'id',
        header: 'ID',
        size: 150,
        cell: ({ row }) => <div className="w-32">{row.getValue('id')}</div>,
    },
    {
        accessorKey: 'description',
        header: 'Description',
        size: 400,
        cell: ({ row }) => (
            <div className="w-96">{row.getValue('description')}</div>
        ),
    },
    {
        accessorKey: 'cvss',
        size: 100,
        header: ({ column }) => {
            return (
                <div
                    className="flex cursor-pointer items-center hover:text-accent-foreground"
                    onClick={() =>
                        column.toggleSorting(column.getIsSorted() === 'asc')
                    }
                >
                    CVSS
                    <ArrowUpDown className="ml-2 h-4 w-4" />
                </div>
            )
        },
        cell: ({ row }) => <div className="w-20">{row.getValue('cvss')}</div>,
    },
    {
        accessorKey: 'risk',
        size: 100,
        header: ({ column }) => {
            return (
                <div
                    className="flex cursor-pointer items-center hover:text-accent-foreground"
                    onClick={() =>
                        column.toggleSorting(column.getIsSorted() === 'asc')
                    }
                >
                    RISK
                    <ArrowUpDown className="ml-2 h-4 w-4" />
                </div>
            )
        },
        cell: ({ row }) => <div className="w-20">{row.getValue('risk')}</div>,
    },
    {
        accessorKey: 'published',
        size: 150,
        header: ({ column }) => {
            return (
                <div
                    className="flex cursor-pointer items-center hover:text-accent-foreground"
                    onClick={() =>
                        column.toggleSorting(column.getIsSorted() === 'asc')
                    }
                >
                    Published
                    <ArrowUpDown className="ml-2 h-4 w-4" />
                </div>
            )
        },
        cell: ({ row }) => (
            <div className="w-32">{row.getValue('published')}</div>
        ),
    },
]
