import { Callout } from 'nextra/components'

# README Badge (NEEDS REVIEW)

Display a CVSS vulnerability badge in your repository README.

## Prerequisites

- An asset in DevGuard with at least one scan
- Badge secret (auto-generated per asset)

## Get the Badge URL

1. Navigate to your **Asset** in DevGuard
2. Go to **Settings** → **Integrations**
3. Copy the **Badge URL**

Or construct it manually:

```
https://api.devguard.org/api/v1/badges/cvss/<badge-secret>/
```

## Embed in README

### Markdown

```markdown copy
![DevGuard CVSS](https://api.devguard.org/api/v1/badges/cvss/<badge-secret>/)
```

### HTML

```html copy
<img src="https://api.devguard.org/api/v1/badges/cvss/<badge-secret>/" alt="DevGuard CVSS">
```

### With Link to DevGuard

```markdown copy
[![DevGuard CVSS](https://api.devguard.org/api/v1/badges/cvss/<badge-secret>/)](https://app.devguard.org/<org>/projects/<project>/assets/<asset>)
```

## Badge Types

| Type | Endpoint | Description |
|------|----------|-------------|
| CVSS | `/badges/cvss/<secret>/` | Shows max CVSS score with color coding |

## Badge Colors

| CVSS Range | Color |
|------------|-------|
| 0.0 | Green (no vulnerabilities) |
| 0.1–3.9 | Yellow (low) |
| 4.0–6.9 | Orange (medium) |
| 7.0–8.9 | Red (high) |
| 9.0–10.0 | Dark red (critical) |

## Example Output

The badge displays:
- **CVSS** label
- **Score** (e.g., `7.5`) or **None** if no vulnerabilities
- Color-coded background

```
┌──────────────┐
│ CVSS │  7.5  │
└──────────────┘
```

<Callout type="warning">
  The badge secret is unique per asset. Do not share it if your asset is private—anyone with the secret can view the badge (but not detailed vulnerability data).
</Callout>

## Disable Caching

Badges include `Cache-Control: no-cache, no-store` headers. If your README host caches images, append a cache-buster:

```markdown copy
![DevGuard CVSS](https://api.devguard.org/api/v1/badges/cvss/<badge-secret>/?cb=1)
```
