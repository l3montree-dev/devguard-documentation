---
title: Upload SBOM
description: Upload existing Software Bill of Materials to DevGuard for vulnerability scanning
---

import { Callout, Tabs } from 'nextra/components'

# Upload SBOM

Upload an existing Software Bill of Materials (SBOM) to DevGuard for vulnerability analysis. This is useful when you already have an SBOM generated by another tool and want DevGuard to scan it against known vulnerabilities.

## Prerequisites

Before you begin, ensure you have:

- Docker installed on your system
- A personal access token from DevGuard (create one in user settings)
- A repository created in DevGuard
- An existing SBOM file in CycloneDX format (JSON)

## Upload SBOM File

Upload a CycloneDX SBOM file for vulnerability analysis:

```bash copy
docker run -v "$(PWD):/dev/app" ghcr.io/l3montree-dev/devguard/scanner:main-latest \
  devguard-scanner sbom \
    /dev/app/sbom.json \
    --assetName="myorg/projects/myproject/assets/myrepo" \
    --apiUrl="https://api.devguard.org" \
    --token="YOUR_TOKEN"
```

<Callout type="info">
  Replace `sbom.json` with the path to your SBOM file. Only CycloneDX-formatted SBOMs (JSON or XML) are supported.
</Callout>

<Callout type="info">
  Replace `myorg/projects/myproject/assets/myrepo` with your repository's slug. You can copy this from the URL when viewing your repository in the DevGuard UI.
</Callout>

## What the Scanner Does

1. **Parses SBOM**: Reads and validates your CycloneDX SBOM file
2. **Scans Components**: Analyzes all software components listed in the SBOM
3. **Checks Vulnerabilities**: Cross-references each component against DevGuard's vulnerability database
4. **Reports Findings**: Returns detected vulnerabilities with severity scores and remediation guidance
5. **Updates Repository**: Syncs findings with your DevGuard repository for tracking

**Verify it worked:** Navigate to your repository in DevGuard. You'll see detected vulnerabilities listed with affected components and fix recommendations.

## Scan Without Authentication

You can upload an SBOM and scan it without a token or asset name to get vulnerability results without saving them to DevGuard.

```bash copy
docker run -v "$(PWD):/dev/app" ghcr.io/l3montree-dev/devguard/scanner:main-latest \
  devguard-scanner sbom /dev/app/sbom.json
```

When no `--token` and `--assetName` are provided, the scanner will print a warning and return results without persisting them:

```
Warning: You are scanning without saving the results. Provide --token and --assetName to save results to DevGuard.
```

<Callout type="info">
  Unauthenticated scans check your SBOM against the vulnerability database and show results in the terminal, but findings are not tracked in DevGuard and will not appear in your repository's vulnerability dashboard.
</Callout>

## Merge and Scan Multiple SBOMs

Use `merge-sboms` to combine multiple CycloneDX SBOMs and pipe the result directly into the `sbom` command for scanning. Pass `-` as the file argument to read from stdin:

```bash copy
devguard-scanner merge-sboms config.json | devguard-scanner sbom -
```

The merge config file specifies the target purl and the list of SBOM files to merge:

```json
{ "purl": "pkg:foo/bar@1.2.3", "sboms": ["a.json", "b.json"] }
```

To save the merged scan results to DevGuard, add authentication flags:

```bash copy
devguard-scanner merge-sboms config.json | devguard-scanner sbom - \
  --assetName="myorg/projects/myproject/assets/myrepo" \
  --token="YOUR_TOKEN"
```

## CI/CD Integration
For automated SBOM uploads in CI/CD pipelines, DevGuard provides ready-to-use integrations:
- **GitHub Actions**: See [Scan with GitHub Actions](./scan-with-github-actions) for setup instructions
- **GitLab CI**: See [Scan with GitLab CI](./scan-with-gitlab-ci) for setup instructions

## Advanced Options

Fail the command based on risk level:

```bash copy
--failOnRisk=critical  # Options: low, medium, high, critical (default: critical)
--failOnCVSS=critical  # Options: low, medium, high, critical (default: critical)
```

Specify which artifact this SBOM represents:

```bash copy
--artifactName="pkg:devguard/orgSlug/projectSlug/repoSlug"  # Default is based on your asset
```

Set a custom origin to track where the SBOM came from:

```bash copy
--origin="sbom-file-upload"  # Default is "sbom-file-upload"
```

<Callout type="info">
  The origin flag helps you track which tools or systems generated your SBOMs. This is useful when you have multiple SBOMs from different sources for the same project.
</Callout>


Specify Git reference information:

```bash copy
--ref="v1.2.3"                 # Git reference (branch, tag, or commit)
--defaultRef="main"            # Default Git reference to use
--isTag=true                   # Indicates if the reference is a tag
```

<Callout type="info">
  These flags help DevGuard track which branch or tag the scan is associated with. DevGuard will attempt to auto-detect Git information from the current directory if these flags are not specified.
</Callout>